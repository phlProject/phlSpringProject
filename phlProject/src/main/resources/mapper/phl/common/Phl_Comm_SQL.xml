<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="phl/common">
	
	<!-- 공통코드 -->
    <select id="selectCommCode" parameterType="hashmap" resultType="hashmap">
    	SELECT CMMN_CODE
    	 	  ,CL_CODE
    	 	  ,DETAIL_CODE
    	 	  ,DETAIL_CODE_NM
    	  FROM BSNS_CMMN_CODE
    	 WHERE 1=1
    	   AND USE_YN = 'Y'
   		   AND BSNS_CODE = #{bsns_code}
   		   <if test="cl_code != null" >
   		   	AND CL_CODE = #{cl_code}
   		   </if>
   		   <if test="not_detail_code != null" >
   		   	AND DETAIL_CODE NOT IN (${not_detail_code})
   		   </if>
    </select>
    
</mapper>